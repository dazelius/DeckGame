<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VFX Effect Tester</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Orbitron', sans-serif;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2a 50%, #0a1a2a 100%);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }
        
        .container {
            display: flex;
            height: 100vh;
        }
        
        /* ì¢Œì¸¡ ì»¨íŠ¸ë¡¤ íŒ¨ë„ */
        .control-panel {
            width: 320px;
            background: rgba(0, 0, 0, 0.8);
            border-right: 2px solid #333;
            padding: 20px;
            overflow-y: auto;
            flex-shrink: 0;
        }
        
        .panel-title {
            font-size: 1.5rem;
            color: #60a5fa;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 20px #60a5fa;
        }
        
        .effect-category {
            margin-bottom: 25px;
        }
        
        .category-title {
            font-size: 0.9rem;
            color: #fbbf24;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #333;
        }
        
        .effect-btn {
            display: block;
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid #333;
            border-radius: 8px;
            color: #fff;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }
        
        .effect-btn:hover {
            background: linear-gradient(135deg, #2a2a4e 0%, #26315e 100%);
            border-color: #60a5fa;
            box-shadow: 0 0 15px rgba(96, 165, 250, 0.3);
            transform: translateX(5px);
        }
        
        .effect-btn:active {
            transform: scale(0.98);
        }
        
        .effect-btn .icon {
            margin-right: 10px;
        }
        
        /* ê³µê²© ì´í™íŠ¸ */
        .effect-btn.attack { border-left: 4px solid #ef4444; }
        .effect-btn.attack:hover { border-color: #ef4444; box-shadow: 0 0 15px rgba(239, 68, 68, 0.3); }
        
        /* ë°©ì–´ ì´í™íŠ¸ */
        .effect-btn.defense { border-left: 4px solid #60a5fa; }
        .effect-btn.defense:hover { border-color: #60a5fa; }
        
        /* ìƒíƒœ ì´í™íŠ¸ */
        .effect-btn.status { border-left: 4px solid #a855f7; }
        .effect-btn.status:hover { border-color: #a855f7; box-shadow: 0 0 15px rgba(168, 85, 247, 0.3); }
        
        /* í ì´í™íŠ¸ */
        .effect-btn.heal { border-left: 4px solid #4ade80; }
        .effect-btn.heal:hover { border-color: #4ade80; box-shadow: 0 0 15px rgba(74, 222, 128, 0.3); }
        
        /* íŠ¹ìˆ˜ ì´í™íŠ¸ */
        .effect-btn.special { border-left: 4px solid #fbbf24; }
        .effect-btn.special:hover { border-color: #fbbf24; box-shadow: 0 0 15px rgba(251, 191, 36, 0.3); }
        
        /* ê²œë¸”ëŸ¬ ì´í™íŠ¸ */
        .effect-btn.gambler { border-left: 4px solid #f59e0b; background: linear-gradient(135deg, #1a1a2e 0%, #2d1f0f 100%); }
        .effect-btn.gambler:hover { border-color: #f59e0b; box-shadow: 0 0 15px rgba(245, 158, 11, 0.4); }
        
        /* ëŒ€ë¯¸ì§€ í”Œë¡œíŒ… ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes damageFloat {
            0% { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }
            50% { opacity: 1; transform: translateX(-50%) translateY(-30px) scale(1.2); }
            100% { opacity: 0; transform: translateX(-50%) translateY(-60px) scale(0.8); }
        }
        
        /* ìš°ì¸¡ í…ŒìŠ¤íŠ¸ ì˜ì—­ */
        .test-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .test-zone {
            width: 80%;
            height: 70%;
            border: 2px dashed #333;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: radial-gradient(circle at center, rgba(96, 165, 250, 0.05) 0%, transparent 70%);
        }
        
        .target-dummy {
            width: 150px;
            height: 200px;
            background: linear-gradient(180deg, #4a4a6a 0%, #2a2a4a 100%);
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 3px solid #555;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .target-dummy:hover {
            border-color: #ef4444;
            box-shadow: 0 0 30px rgba(239, 68, 68, 0.3);
        }
        
        .target-dummy .face {
            font-size: 60px;
            margin-bottom: 10px;
        }
        
        .target-dummy .label {
            font-size: 0.8rem;
            color: #888;
        }
        
        .target-dummy .hp-bar {
            position: absolute;
            bottom: -30px;
            width: 120px;
            height: 15px;
            background: #1a1a1a;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .target-dummy .hp-fill {
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, #ef4444, #f87171);
            border-radius: 10px;
        }
        
        /* ë„ì›€ë§ */
        .help-text {
            position: absolute;
            bottom: 30px;
            color: #666;
            font-size: 0.8rem;
            text-align: center;
        }
        
        /* í´ë¦¬ì–´ ë²„íŠ¼ */
        .clear-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            background: #333;
            border: 1px solid #555;
            border-radius: 5px;
            color: #fff;
            font-family: 'Orbitron', sans-serif;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .clear-btn:hover {
            background: #ef4444;
            border-color: #ef4444;
        }
        
        /* ì¢Œí‘œ í‘œì‹œ */
        .coords {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #666;
            font-size: 0.75rem;
        }
        
        /* ëœë¤ ìœ„ì¹˜ í† ê¸€ */
        .toggle-container {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        .toggle-label {
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            font-size: 0.85rem;
        }
        
        .toggle-switch {
            width: 50px;
            height: 26px;
            background: #333;
            border-radius: 13px;
            position: relative;
            transition: background 0.3s;
        }
        
        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            background: #fff;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
        }
        
        .toggle-input {
            display: none;
        }
        
        .toggle-input:checked + .toggle-label .toggle-switch {
            background: #60a5fa;
        }
        
        .toggle-input:checked + .toggle-label .toggle-switch::after {
            transform: translateX(24px);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ì¢Œì¸¡ ì»¨íŠ¸ë¡¤ íŒ¨ë„ -->
        <div class="control-panel">
            <h1 class="panel-title">âš¡ VFX TESTER</h1>
            
            <!-- ê³µê²© ì´í™íŠ¸ -->
            <div class="effect-category">
                <div class="category-title">âš”ï¸ ATTACK EFFECTS</div>
                <button class="effect-btn attack" onclick="playEffect('slash')">
                    <span class="icon">ğŸ—¡ï¸</span> Slash (ë² ê¸°)
                </button>
                <button class="effect-btn attack" onclick="playEffect('crossSlash')">
                    <span class="icon">âœ–ï¸</span> Cross Slash (Xë² ê¸°)
                </button>
                <button class="effect-btn attack" onclick="playEffect('multiHit')">
                    <span class="icon">ğŸ’¥</span> Multi Hit (ë‚œë„ì§ˆ)
                </button>
                <button class="effect-btn attack" onclick="playEffect('criticalHit')">
                    <span class="icon">ğŸ”¥</span> Critical Hit (í¬ë¦¬í‹°ì»¬)
                </button>
            </div>
            
            <!-- ì¶©ê²© ì´í™íŠ¸ -->
            <div class="effect-category">
                <div class="category-title">ğŸ’« IMPACT EFFECTS</div>
                <button class="effect-btn attack" onclick="playEffect('impact')">
                    <span class="icon">ğŸ’¢</span> Impact (ì¶©ê²©)
                </button>
                <button class="effect-btn attack" onclick="playEffect('sparks')">
                    <span class="icon">âœ¨</span> Sparks (ìŠ¤íŒŒí¬)
                </button>
                <button class="effect-btn attack" onclick="playEffect('shockwave')">
                    <span class="icon">ğŸŒ€</span> Shockwave (ì¶©ê²©íŒŒ)
                </button>
            </div>
            
            <!-- ë°©ì–´/í ì´í™íŠ¸ -->
            <div class="effect-category">
                <div class="category-title">ğŸ›¡ï¸ DEFENSE & HEAL</div>
                <button class="effect-btn defense" onclick="playEffect('shield')">
                    <span class="icon">ğŸ›¡ï¸</span> Shield (ë°©ì–´)
                </button>
                <button class="effect-btn heal" onclick="playEffect('heal')">
                    <span class="icon">ğŸ’š</span> Heal (íšŒë³µ)
                </button>
            </div>
            
            <!-- ìƒíƒœ ì´í™íŠ¸ -->
            <div class="effect-category">
                <div class="category-title">ğŸ©¸ STATUS EFFECTS</div>
                <button class="effect-btn status" onclick="playEffect('bleed')">
                    <span class="icon">ğŸ©¸</span> Bleed (ì¶œí˜ˆ)
                </button>
                <button class="effect-btn status" onclick="playEffect('buff')">
                    <span class="icon">â¬†ï¸</span> Buff (ë²„í”„)
                </button>
                <button class="effect-btn status" onclick="playEffect('debuff')">
                    <span class="icon">â¬‡ï¸</span> Debuff (ë””ë²„í”„)
                </button>
            </div>
            
            <!-- íŠ¹ìˆ˜ ì´í™íŠ¸ -->
            <div class="effect-category">
                <div class="category-title">ğŸŒŸ SPECIAL EFFECTS</div>
                <button class="effect-btn special" onclick="playEffect('fire')">
                    <span class="icon">ğŸ”¥</span> Fire (í™”ì—¼)
                </button>
                <button class="effect-btn special" onclick="playEffect('lightning')">
                    <span class="icon">âš¡</span> Lightning (ë²ˆê°œ)
                </button>
                <button class="effect-btn special" onclick="playEffect('projectile')">
                    <span class="icon">ğŸ”®</span> Projectile (íˆ¬ì‚¬ì²´)
                </button>
                <button class="effect-btn special" onclick="playEffect('dagger')">
                    <span class="icon">ğŸ—¡ï¸</span> Dagger (ë‹¨ê²€)
                </button>
                <button class="effect-btn special" onclick="playEffect('chakram')">
                    <span class="icon">ğŸ”˜</span> Chakram Throw (ë˜ì§€ê¸°)
                </button>
                <button class="effect-btn special" onclick="playEffect('chakramReturn')">
                    <span class="icon">ğŸ”˜</span> Chakram Return (ë˜ëŒì•„ì˜¤ê¸°)
                </button>
                <button class="effect-btn defense" onclick="playEffect('smoke')">
                    <span class="icon">ğŸ’¨</span> Smoke (ì—°ë§‰)
                </button>
                <button class="effect-btn special" onclick="playEffect('critical')" style="background: linear-gradient(135deg, #ff4444, #ff8800);">
                    <span class="icon">ğŸ’¥</span> Critical (í¬ë¦¬í‹°ì»¬)
                </button>
            </div>
            
            <!-- ê²œë¸”ëŸ¬ ì´í™íŠ¸ -->
            <div class="effect-category">
                <div class="category-title">ğŸ° GAMBLER EFFECTS</div>
                <button class="effect-btn gambler" onclick="playGamblerEffect('luckyStrikeMax')" style="background: linear-gradient(135deg, #1a1a2e 0%, #3d2f0f 100%);">
                    <span class="icon">ğŸ²</span> Lucky Strike MAX (ëŸ­í‚¤ ìµœëŒ€)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('luckyStrikeMin')">
                    <span class="icon">ğŸ²</span> Lucky Strike MIN (ëŸ­í‚¤ ìµœì†Œ)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('luckyStrikeRandom')">
                    <span class="icon">ğŸ²</span> Lucky Strike Random (ëŸ­í‚¤ ëœë¤)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('chipDropMax')">
                    <span class="icon">ğŸ’°</span> Chip Drop MAX (ì¹© ë“œë¡­ ìµœëŒ€)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('chipDropNormal')">
                    <span class="icon">ğŸ’ </span> Chip Drop Normal (ì¹© ë“œë¡­ ì¼ë°˜)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('chipShieldMax')" style="background: linear-gradient(135deg, #1a1a2e 0%, #1a3a5c 100%);">
                    <span class="icon">ğŸ›¡ï¸</span> Chip Shield MAX (ì¹© ì‰´ë“œ ìµœëŒ€)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('chipShieldNormal')">
                    <span class="icon">ğŸ›¡ï¸</span> Chip Shield Normal (ì¹© ì‰´ë“œ ì¼ë°˜)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('jackpot')">
                    <span class="icon">ğŸ‰</span> Jackpot (ì­íŒŸ)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('goodResult')">
                    <span class="icon">âœ¨</span> Good Result (ì¢‹ì€ ê²°ê³¼)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('missResult')">
                    <span class="icon">ğŸ’”</span> Miss Result (ë‚˜ìœ ê²°ê³¼)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('success')">
                    <span class="icon">âœ“</span> Success (ì„±ê³µ)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('fail')">
                    <span class="icon">âœ—</span> Fail (ì‹¤íŒ¨)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('allIn')">
                    <span class="icon">ğŸ”¥</span> All-In (ì˜¬ì¸)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('chipGain')">
                    <span class="icon">ğŸ’ </span> Chip Gain (ì¹© íšë“)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('bluff')">
                    <span class="icon">ğŸƒ</span> Bluff (ë¸”ëŸ¬í”„)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('slot')">
                    <span class="icon">ğŸ°</span> Slot Machine (ìŠ¬ë¡¯)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('dice')">
                    <span class="icon">ğŸ²</span> Dice Roll (ì£¼ì‚¬ìœ„)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('hit')">
                    <span class="icon">ğŸ’¥</span> Hit (íˆíŠ¸)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('shockwave')">
                    <span class="icon">ğŸŒ€</span> Shockwave (ì¶©ê²©íŒŒ)
                </button>
                <button class="effect-btn gambler" onclick="playGamblerEffect('heal')">
                    <span class="icon">ğŸ’š</span> Heal (í)
                </button>
            </div>
            
            <!-- ì‹œë„ˆì§€ ì¹´ë“œ ì´í™íŠ¸ -->
            <div class="effect-category">
                <div class="category-title">ğŸ”— SYNERGY CARDS</div>
                <button class="effect-btn attack" onclick="playSynergyCard('cardFall')">
                    <span class="icon">ğŸ´</span> Card Fall (ì¹´ë“œí´)
                </button>
            </div>
            
            <!-- ì˜µì…˜ -->
            <div class="toggle-container">
                <input type="checkbox" id="randomPos" class="toggle-input" checked>
                <label for="randomPos" class="toggle-label">
                    <span>Random Position</span>
                    <div class="toggle-switch"></div>
                </label>
            </div>
            
            <div class="toggle-container">
                <input type="checkbox" id="clickMode" class="toggle-input">
                <label for="clickMode" class="toggle-label">
                    <span>Click to Play</span>
                    <div class="toggle-switch"></div>
                </label>
            </div>
        </div>
        
        <!-- ìš°ì¸¡ í…ŒìŠ¤íŠ¸ ì˜ì—­ -->
        <div class="test-area" id="testArea">
            <div class="coords" id="coords">X: 0, Y: 0</div>
            <button class="clear-btn" onclick="clearEffects()">Clear All</button>
            
            <div class="test-zone" id="testZone">
                <div class="target-dummy" id="target">
                    <div class="face">ğŸ¯</div>
                    <div class="label">TARGET</div>
                    <div class="hp-bar">
                        <div class="hp-fill"></div>
                    </div>
                </div>
            </div>
            
            <div class="help-text">
                Click buttons to play effects on target<br>
                Or enable "Click to Play" and click anywhere
            </div>
        </div>
    </div>
    
    <script src="vfx.js"></script>
    <script src="gambler_vfx.js"></script>
    <script>
        // VFX ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof VFX !== 'undefined') {
                VFX.init();
                console.log('VFX System Ready!');
            }
            if (typeof GamblerVFX !== 'undefined') {
                GamblerVFX.init();
                console.log('GamblerVFX System Ready!');
            }
        });
        
        // íƒ€ê²Ÿ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
        function getTargetPos() {
            const target = document.getElementById('target');
            const rect = target.getBoundingClientRect();
            return {
                x: rect.left + rect.width / 2,
                y: rect.top + rect.height / 2
            };
        }
        
        // ëœë¤ ì˜¤í”„ì…‹ ì¶”ê°€
        function getPlayPos() {
            const pos = getTargetPos();
            const randomEnabled = document.getElementById('randomPos').checked;
            
            if (randomEnabled) {
                pos.x += (Math.random() - 0.5) * 100;
                pos.y += (Math.random() - 0.5) * 100;
            }
            
            return pos;
        }
        
        // í˜„ì¬ ì„ íƒëœ ì´í™íŠ¸
        let currentEffect = 'slash';
        
        // ì´í™íŠ¸ ì¬ìƒ
        function playEffect(effectName, customPos = null) {
            currentEffect = effectName;
            const pos = customPos || getPlayPos();
            
            switch(effectName) {
                case 'slash':
                    VFX.slash(pos.x, pos.y, { color: '#ff6b6b' });
                    break;
                case 'crossSlash':
                    VFX.crossSlash(pos.x, pos.y, { color: '#ff4444' });
                    break;
                case 'multiHit':
                    VFX.multiHit(pos.x, pos.y, 5, { color: '#ff6b6b' });
                    break;
                case 'criticalHit':
                    VFX.criticalHit(pos.x, pos.y, { size: 200 });
                    break;
                case 'impact':
                    VFX.impact(pos.x, pos.y, { color: '#fff', size: 120 });
                    break;
                case 'sparks':
                    VFX.sparks(pos.x, pos.y, { color: '#fbbf24', count: 30, speed: 20 });
                    break;
                case 'shockwave':
                    VFX.shockwave(pos.x, pos.y, { color: '#60a5fa', size: 300 });
                    break;
                case 'shield':
                    VFX.shield(pos.x, pos.y, { color: '#60a5fa', size: 100 });
                    break;
                case 'heal':
                    VFX.heal(pos.x, pos.y, { color: '#4ade80', size: 100 });
                    break;
                case 'bleed':
                    VFX.bleed(pos.x, pos.y, { count: 20 });
                    break;
                case 'buff':
                    VFX.buff(pos.x, pos.y, { color: '#fbbf24' });
                    break;
                case 'debuff':
                    VFX.buff(pos.x, pos.y, { color: '#a855f7', isDebuff: true });
                    break;
                case 'fire':
                    VFX.fire(pos.x, pos.y, { size: 80 });
                    break;
                case 'lightning':
                    const startPos = { x: pos.x - 100, y: pos.y - 150 };
                    VFX.lightning(startPos.x, startPos.y, pos.x, pos.y, { color: '#60a5fa' });
                    break;
                case 'projectile':
                    const fromPos = { x: pos.x - 300, y: pos.y };
                    VFX.projectile(fromPos.x, fromPos.y, pos.x, pos.y, { 
                        color: '#a855f7', 
                        size: 20,
                        speed: 20
                    });
                    break;
                case 'dagger':
                    const daggerFrom = { x: pos.x - 350, y: pos.y + 50 };
                    VFX.dagger(daggerFrom.x, daggerFrom.y, pos.x, pos.y, { 
                        color: '#c0c0c0',
                        glowColor: '#60a5fa',
                        size: 50,
                        speed: 30,
                        spinSpeed: 20
                    });
                    break;
                case 'chakram':
                    // ë˜ì§€ê¸°: ì™¼ìª½ì—ì„œ íƒ€ê²Ÿì„ ëš«ê³  í™”ë©´ ë°–ìœ¼ë¡œ
                    const chakramFrom = { x: pos.x - 400, y: pos.y };
                    VFX.chakram(chakramFrom.x, chakramFrom.y, pos.x, pos.y, { 
                        color: '#ffd700',
                        glowColor: '#ff8c00',
                        size: 55,
                        speed: 28,
                        spinSpeed: 35,
                        passThrough: true  // ëš«ê³  ì§€ë‚˜ê°!
                    });
                    break;
                case 'chakramReturn':
                    // ë˜ëŒì•„ì˜¤ê¸°: í™”ë©´ ë°–ì—ì„œ íƒ€ê²Ÿì„ ëš«ê³  ì™¼ìª½ìœ¼ë¡œ
                    const returnTo = { x: pos.x - 400, y: pos.y };
                    VFX.chakram(pos.x, pos.y, returnTo.x, returnTo.y, { 
                        color: '#ffd700',
                        glowColor: '#ff8c00',
                        size: 55,
                        speed: 28,
                        spinSpeed: -35,     // ë°˜ëŒ€ ë°©í–¥ íšŒì „
                        fromOffscreen: true // í™”ë©´ ë°–ì—ì„œ ì‹œì‘!
                    });
                    break;
                case 'smoke':
                    VFX.smoke(pos.x, pos.y, { 
                        color: '#667788', 
                        size: 150, 
                        duration: 800, 
                        count: 15 
                    });
                    break;
                case 'critical':
                    VFX.criticalHit(pos.x, pos.y, { 
                        color: '#ff4444',
                        size: 200 
                    });
                    break;
            }
            
            // íƒ€ê²Ÿ íˆíŠ¸ íš¨ê³¼
            const target = document.getElementById('target');
            target.style.transform = 'scale(0.95)';
            target.style.filter = 'brightness(1.5)';
            setTimeout(() => {
                target.style.transform = '';
                target.style.filter = '';
            }, 150);
        }
        
        // ê²œë¸”ëŸ¬ ì´í™íŠ¸ ì¬ìƒ
        function playGamblerEffect(effectName) {
            const pos = getPlayPos();
            const target = document.getElementById('target');
            
            switch(effectName) {
                case 'luckyStrikeMax':
                    // ëŸ­í‚¤ ìŠ¤íŠ¸ë¼ì´í¬ - MAX
                    GamblerVFX.playLuckyStrike(pos.x, pos.y, 3, 9, 9, () => {
                        console.log('Lucky Strike MAX ì™„ë£Œ!');
                    });
                    break;
                case 'luckyStrikeMin':
                    // ëŸ­í‚¤ ìŠ¤íŠ¸ë¼ì´í¬ - MIN
                    GamblerVFX.playLuckyStrike(pos.x, pos.y, 3, 9, 3, () => {
                        console.log('Lucky Strike MIN ì™„ë£Œ!');
                    });
                    break;
                case 'luckyStrikeRandom':
                    // ëŸ­í‚¤ ìŠ¤íŠ¸ë¼ì´í¬ - ëœë¤
                    const randomValue = 3 + Math.floor(Math.random() * 7);
                    GamblerVFX.playLuckyStrike(pos.x, pos.y, 3, 9, randomValue, () => {
                        console.log('Lucky Strike Random:', randomValue);
                    });
                    break;
                case 'chipDropMax':
                    // ì¹© ë“œë¡­ - ìµœëŒ€ (9ê°œ)
                    GamblerVFX.playChipDrop(pos.x, pos.y, 9, true, false);
                    break;
                case 'chipDropNormal':
                    // ì¹© ë“œë¡­ - ì¼ë°˜ (5ê°œ)
                    GamblerVFX.playChipDrop(pos.x, pos.y, 5, false, false);
                    break;
                case 'chipShieldMax':
                    // ì¹© ì‰´ë“œ - ìµœëŒ€ (8)
                    GamblerVFX.playChipShield(pos.x, pos.y, 2, 8, 8, () => console.log('Chip Shield MAX ì™„ë£Œ'));
                    break;
                case 'chipShieldNormal':
                    // ì¹© ì‰´ë“œ - ì¼ë°˜ (5)
                    GamblerVFX.playChipShield(pos.x, pos.y, 2, 8, 5, () => console.log('Chip Shield Normal ì™„ë£Œ'));
                    break;
                case 'jackpot':
                    // ì­íŒŸ (ìµœëŒ€ê°’)
                    GamblerVFX.playGambleResult(9, 1, 9, pos.x, pos.y - 30);
                    break;
                case 'goodResult':
                    // ì¢‹ì€ ê²°ê³¼ (ë†’ì€ê°’)
                    GamblerVFX.playGambleResult(7, 1, 9, pos.x, pos.y - 30);
                    break;
                case 'missResult':
                    // ë‚˜ìœ ê²°ê³¼ (ìµœì†Œê°’)
                    GamblerVFX.playGambleResult(1, 1, 9, pos.x, pos.y - 30);
                    break;
                case 'success':
                    GamblerVFX.playSuccessEffect(pos.x, pos.y);
                    break;
                case 'fail':
                    GamblerVFX.playFailEffect(pos.x, pos.y);
                    break;
                case 'allIn':
                    GamblerVFX.playAllInEffect(8, pos.x, pos.y);
                    break;
                case 'chipGain':
                    GamblerVFX.playChipGainEffect(5, pos.x, pos.y);
                    break;
                case 'bluff':
                    GamblerVFX.playBluffEffect(target);
                    break;
                case 'slot':
                    const results = ['ğŸ’', 'ğŸ‹', 'ğŸ€'][Math.floor(Math.random() * 3)];
                    const r1 = ['ğŸ’', 'ğŸ‹', 'ğŸ€', 'â­'][Math.floor(Math.random() * 4)];
                    const r2 = ['ğŸ’', 'ğŸ‹', 'ğŸ€', 'â­'][Math.floor(Math.random() * 4)];
                    const r3 = ['ğŸ’', 'ğŸ‹', 'ğŸ€', 'â­'][Math.floor(Math.random() * 4)];
                    GamblerVFX.playSlotEffect([r1, r2, r3]);
                    break;
                case 'dice':
                    const diceResult = Math.floor(Math.random() * 6) + 1;
                    GamblerVFX.playDiceRoll(pos.x, pos.y, diceResult);
                    break;
                case 'hit':
                    const damage = Math.floor(Math.random() * 8) + 4;
                    GamblerVFX.playHitEffect(pos.x, pos.y, damage);
                    break;
                case 'shockwave':
                    GamblerVFX.playShockwave(pos.x, pos.y, '#fbbf24', 300);
                    break;
                case 'heal':
                    GamblerVFX.playHealEffect(target);
                    break;
            }
            
            // íƒ€ê²Ÿ íˆíŠ¸ íš¨ê³¼
            target.style.transform = 'scale(0.95)';
            target.style.filter = 'brightness(1.5)';
            setTimeout(() => {
                target.style.transform = '';
                target.style.filter = '';
            }, 150);
        }
        
        // ì‹œë„ˆì§€ ì¹´ë“œ ì´í™íŠ¸ ì¬ìƒ
        function playSynergyCard(cardName) {
            const pos = getPlayPos();
            const target = document.getElementById('target');
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            
            switch(cardName) {
                case 'cardFall':
                    // ì¹´ë“œí´ - ì¹´ë“œë“¤ì´ ì¢Œì—ì„œ ìš°ë¡œ ê´€í†µí•˜ëŠ” ì—°ì¶œ
                    const cardCount = 5; // ì‹œë®¬ë ˆì´ì…˜ìš© ì¹´ë“œ ìˆ˜
                    
                    // 1ë‹¨ê³„: ì¹´ë“œë“¤ì´ ì—¬ëŸ¬ ë°©í–¥ì—ì„œ ì¤‘ì•™ìœ¼ë¡œ ëª¨ì„
                    for (let i = 0; i < cardCount; i++) {
                        const angle = (i / cardCount) * Math.PI * 2;
                        const startRadius = 300;
                        const startX = centerX + Math.cos(angle) * startRadius;
                        const startY = centerY + Math.sin(angle) * startRadius;
                        
                        const card = document.createElement('div');
                        card.innerHTML = 'ğŸ´';
                        card.style.cssText = `
                            position: fixed;
                            left: ${startX}px;
                            top: ${startY}px;
                            font-size: 60px;
                            z-index: 10000;
                            pointer-events: none;
                            transition: all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
                            filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.8));
                            transform: rotate(${angle * 180 / Math.PI}deg);
                        `;
                        document.body.appendChild(card);
                        
                        // ì¤‘ì•™ìœ¼ë¡œ ëª¨ì´ê¸°
                        setTimeout(() => {
                            const orbitRadius = 80;
                            card.style.left = `${centerX + Math.cos(angle) * orbitRadius}px`;
                            card.style.top = `${centerY + Math.sin(angle) * orbitRadius}px`;
                            card.style.transform = `rotate(${720 + angle * 180 / Math.PI}deg) scale(0.8)`;
                        }, 50 + i * 50);
                        
                        // íƒ€ê²Ÿìœ¼ë¡œ ë°œì‚¬
                        setTimeout(() => {
                            card.style.transition = 'all 0.3s ease-in';
                            card.style.left = `${pos.x}px`;
                            card.style.top = `${pos.y}px`;
                            card.style.transform = 'scale(0.2) rotate(1080deg)';
                            card.style.opacity = '0';
                        }, 600 + i * 80);
                        
                        setTimeout(() => card.remove(), 1200);
                    }
                    
                    // 2ë‹¨ê³„: ì¶©ê²©íŒŒ + ëŒ€ë¯¸ì§€ VFX
                    setTimeout(() => {
                        if (typeof VFX !== 'undefined') {
                            VFX.shockwave(pos.x, pos.y, { color: '#ffd700', size: 300 });
                            VFX.sparks(pos.x, pos.y, { color: '#ffd700', count: 30, speed: 400 });
                            VFX.sparks(pos.x, pos.y, { color: '#ff4444', count: 20, speed: 300 });
                        }
                        
                        // ëŒ€ë¯¸ì§€ ìˆ«ì í‘œì‹œ
                        const damagePerCard = [];
                        let total = 0;
                        for (let i = 0; i < cardCount; i++) {
                            const dmg = 2 + Math.floor(Math.random() * 3);
                            damagePerCard.push(dmg);
                            total += dmg;
                        }
                        
                        const dmgText = document.createElement('div');
                        dmgText.textContent = `${total}`;
                        dmgText.style.cssText = `
                            position: fixed;
                            left: ${pos.x}px;
                            top: ${pos.y - 50}px;
                            font-family: 'Orbitron', sans-serif;
                            font-size: 48px;
                            font-weight: bold;
                            color: #ffd700;
                            text-shadow: 0 0 20px #ff4444, 0 0 40px #ffd700;
                            z-index: 10001;
                            pointer-events: none;
                            transform: translateX(-50%);
                            animation: damageFloat 1s ease-out forwards;
                        `;
                        document.body.appendChild(dmgText);
                        setTimeout(() => dmgText.remove(), 1000);
                        
                        // íƒ€ê²Ÿ íˆíŠ¸ íš¨ê³¼
                        target.style.transform = 'scale(0.9)';
                        target.style.filter = 'brightness(2) saturate(1.5)';
                        setTimeout(() => {
                            target.style.transform = '';
                            target.style.filter = '';
                        }, 200);
                        
                        console.log(`ğŸ´ ì¹´ë“œí´! ${cardCount}ì¥ â†’ ì „ì²´ ${total} ë°ë¯¸ì§€! (${damagePerCard.join('+')})`);
                    }, 900);
                    break;
            }
        }
        
        // í´ë¦¬ì–´
        function clearEffects() {
            if (typeof VFX !== 'undefined') {
                VFX.particles = [];
                VFX.animations = [];
                VFX.ctx.clearRect(0, 0, VFX.canvas.width, VFX.canvas.height);
            }
            if (typeof GamblerVFX !== 'undefined') {
                GamblerVFX.particles = [];
                GamblerVFX.animations = [];
                GamblerVFX.ctx.clearRect(0, 0, GamblerVFX.canvas.width, GamblerVFX.canvas.height);
            }
        }
        
        // ì¢Œí‘œ í‘œì‹œ
        const testArea = document.getElementById('testArea');
        const coordsDisplay = document.getElementById('coords');
        
        testArea.addEventListener('mousemove', (e) => {
            coordsDisplay.textContent = `X: ${e.clientX}, Y: ${e.clientY}`;
        });
        
        // í´ë¦­ ëª¨ë“œ
        testArea.addEventListener('click', (e) => {
            const clickMode = document.getElementById('clickMode').checked;
            if (clickMode && e.target.id !== 'target') {
                playEffect(currentEffect, { x: e.clientX, y: e.clientY });
            }
        });
        
        // íƒ€ê²Ÿ í´ë¦­
        document.getElementById('target').addEventListener('click', () => {
            playEffect(currentEffect);
        });
        
        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case '1': playEffect('slash'); break;
                case '2': playEffect('crossSlash'); break;
                case '3': playEffect('multiHit'); break;
                case '4': playEffect('criticalHit'); break;
                case '5': playEffect('impact'); break;
                case '6': playEffect('shockwave'); break;
                case '7': playEffect('fire'); break;
                case '8': playEffect('lightning'); break;
                case 'c': case 'C': clearEffects(); break;
            }
        });
    </script>
</body>
</html>

